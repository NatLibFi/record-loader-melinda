{
    "type": "object",
    "properties": {
	"rank": {
	    "$ref": "file://../node_modules/marc-record-rank/resources/configuration-schema.json"
	},
	"matching": {
	    "$ref": "file://../node_modulesjson-similarity/resources/spec-schema.json"
	},
	"matchCandidatesQuery": {
	    "type": "array",
	    "items": {
		"type": "object",
		"properties": {
		    "transformations": {
			"$ref": "file://../node_modules/json-path-transformations/resources/transformations-schema.json#/properties/transformations"
		    },
		    "query": {
			"anyOf": [
			    {
				"description": "SRU or Melinda API query (ID fetch)",
				"type": "string"
			    },
			    {
				"description": "Aleph X query",
				"type": "object",
				"properties": {
				    "index": {
					"type": "string"
				    },
				    "term": {
					"type": "string"
				    }
				},
				"required": ["index", "term"]
			    }
			]
		    }
		},
		"required": ["query"]
	    }
	}
    },
    "require": ["matching", "matchCandidatesQuery"]
}